import numpy as np
import matplotlib.pyplot as plt
from scipy.cluster.vq import kmeans2, whiten

coordinates = np.array([[-122.399587704189, 37.7350510103906],
                       [-122.391522893042, 37.7324323864471],
                       [-122.426001954961, 37.7922124386284],
                       [-122.437393972517, 37.7214120621391],
                       [-122.437393972517, 37.7214120621391],
                       [-122.459023622429, 37.7131719025215],
                       [-122.42561645123, 37.7393505144627],
                       [-122.412652039792, 37.7397501563121],
                       [-122.418700097043, 37.7651649409646],
                       [-122.413934584561, 37.7988864506416],
                       [-122.408607774484, 37.7467873555673],
                       [-122.411093822635, 37.7610475742041],
                       [-122.411093822635, 37.7610475742041],
                       [-122.402130610278, 37.7993635026487],
                       [-122.420747467177, 37.8075877427735],
                       [-122.415508242782, 37.7816542806076],
                       [-122.455678529624, 37.7237017394146],
                       [-122.400298318649, 37.7171808374172],
                       [-122.433668534709, 37.787708547267],
                       [-122.422149614358, 37.7978243786265],
                       [-122.422149614358, 37.7978243786265],
                       [-122.415464372874, 37.7669370292874],
                       [-122.406820555032, 37.804828287761],
                       [-122.407922481294, 37.7090040443126],
                       [-122.431289969136, 37.7720549755537],
                       [-122.469906688039, 37.7836161897605],
                       [-122.431149073441, 37.777698406901],
                       [-122.403404791478, 37.775420706711],
                       [-122.45067626133, 37.7354008336081],
                       [-122.472130727218, 37.7533907167932]])
x, y = kmeans2(whiten(coordinates), 3, iter=20)
plt.scatter(coordinates[:, 0], coordinates[:, 1], c=y)
plt.show()
